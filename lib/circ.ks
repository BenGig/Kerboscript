/////////////////////////////////////////////////////////////////////////////
// Circularize.
/////////////////////////////////////////////////////////////////////////////
// Circularizes at the nearest apsis.
/////////////////////////////////////////////////////////////////////////////

runoncepath("lib_ui.ks").

if obt:transition = "ESCAPE" or eta:periapsis < eta:apoapsis {
  runpath("node_apo.ks", obt:periapsis).
} else {
  runpath("node_peri.ks", obt:apoapsis).
}

run "node.ks".

uiBanner("Circ", "Circularized; e=" + round(ship:obt:eccentricity, 3)).
