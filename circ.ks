/////////////////////////////////////////////////////////////////////////////
// Circularize.
/////////////////////////////////////////////////////////////////////////////
// Circularizes at the nearest apsis.
/////////////////////////////////////////////////////////////////////////////

run once "0:/lib_ui".

if obt:transition = "ESCAPE" or eta:periapsis < eta:apoapsis {
  runpath("0:/node_apo", obt:periapsis).
} else {
  runpath("0:/node_peri", obt:apoapsis).
}

run "0:/node".

uiBanner("Circ", "Circularized; e=" + round(ship:obt:eccentricity, 3)).
